"use strict";(self.webpackChunkAdventOfCode=self.webpackChunkAdventOfCode||[]).push([[71],{3071:($,g,a)=>{a.r(g),a.d(g,{Day8Module:()=>S});var l=a(6019),p=a(4881),m=a(4499),h=a(273),v=a(3067),y=a(3145),Z=a(9947),f=a(8889),A=a(9985),b=a(4623),O=a(6921),C=a(7613),T=a(7384),D=a(5406);const w=JSON.parse('{"i":"nop +0\\nacc +1\\njmp +4\\nacc +3\\njmp -3\\nacc -99\\nacc +1\\njmp -4\\nacc +6"}');var t=a(3556);const M=function(n){return{hidden:n}};function U(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div"),t._UZ(2,"img",11),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.BQk()),2&n){const o=s.$implicit,e=s.index,i=t.oxw().ngIf;t.xp6(2),t.Q6J("ngClass",t.VKq(3,M,e!=i.next)),t.xp6(2),t.Oqu(o[0]),t.xp6(2),t.Oqu(o[1])}}function F(n,s){if(1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.YNc(2,U,7,5,"ng-container",9),t.qZA(),t.TgZ(3,"div",10),t.TgZ(4,"span"),t._uU(5),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"async"),t.qZA(),t.qZA(),t.qZA()),2&n){const o=s.ngIf,e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.instructions),t.xp6(3),t.AsE("Next instruction: ",o.next," \xa0 Accumulator: ",o.acc,""),t.xp6(3),t.hij("Completed instructions: ",t.lcZ(9,4,e.executed),"")}}const I=[{path:"",component:(()=>{class n{constructor(){this.state$=new m.X({acc:0,next:0}),this.executed=new m.X([]),this.exampleInput=w.i,this.start=new h.x,this.instructions=this.exampleInput.split("\n").map(o=>{var e,i;return null!==(i=null===(e=null==o?void 0:o.match(/(\w\w\w) ([+-]\d+)/i))||void 0===e?void 0:e.splice(1))&&void 0!==i?i:[]}).map(([o,e])=>[o,parseInt(e,10)]),this.start.pipe((0,v.w)(()=>(0,y.F)(1e3))).pipe(function(...n){const s=(0,C.jO)(n);return(0,Z.e)((o,e)=>{const i=n.length,d=new Array(i);let r=n.map(()=>!1),x=!1;for(let c=0;c<i;c++)(0,A.Xf)(n[c]).subscribe(new f.Q(e,u=>{d[c]=u,!x&&!r[c]&&(r[c]=!0,(x=r.every(b.y))&&(r=null))},O.Z));o.subscribe(new f.Q(e,c=>{if(x){const u=[c,...d];e.next(s?s(...u):u)}}))})}(this.state$,this.executed),(0,T.b)(console.log),(0,D.o)(([o,e,i])=>!i.includes(e.next))).subscribe(([o,e,i])=>{this.executed.next([...i,e.next]);const[d,r]=this.instructions[e.next];switch(d){case"nop":this.state$.next(Object.assign(Object.assign({},e),{next:e.next+1}));break;case"jmp":this.state$.next(Object.assign(Object.assign({},e),{next:e.next+r}));break;case"acc":this.state$.next(Object.assign(Object.assign({},e),{acc:e.acc+r,next:e.next+1}))}})}startExecution(){this.start.next(!0)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-day8"]],decls:12,vars:3,consts:[[1,"text-6xl","font-black","font-mono","text-center","my-6","text-transparent","bg-clip-text","bg-gradient-to-tr","from-green-400","to-green-500"],[1,"rounded-2xl","p-4","space-y-2","bg-gradient-to-tr","from-yellow-700","to-yellow-900"],[1,"mb-8"],[1,"font-bold","text-5xl","text-yellow-200","mb-4"],[1,"text-gray-100","font-bold","text-5xl"],["class","flex flex-row",4,"ngIf"],[1,"rounded","border","border-solid","border-white","text-white","text-2xl","px-2","cursor-pointer","hover:bg-white","hover:bg-opacity-10",3,"click"],[1,"flex","flex-row"],[1,"execution-grid","font-mono","text-white","text-2xl"],[4,"ngFor","ngForOf"],[1,"font-mono","text-white","text-2xl"],["alt","\u27a1","src","./assets/images/arrow.svg",1,"h-8",3,"ngClass"]],template:function(o,e){1&o&&(t.TgZ(0,"h1",0),t._uU(1," --- Day 8: Handheld Halting ---\n"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"h2",3),t._uU(5,"Part 1"),t.qZA(),t.TgZ(6,"h3",4),t._uU(7,"Code execution"),t.qZA(),t.qZA(),t.YNc(8,F,10,6,"div",5),t.ALo(9,"async"),t.TgZ(10,"button",6),t.NdJ("click",function(){return e.startExecution()}),t._uU(11," Start execution "),t.qZA(),t.qZA()),2&o&&(t.xp6(8),t.Q6J("ngIf",t.lcZ(9,1,e.state$)))},directives:[l.O5,l.sg,l.mk],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:block;padding:1rem}.execution-grid[_ngcontent-%COMP%]{display:grid;grid-gap:.5rem;gap:.5rem;grid-template-columns:repeat(3,max-content)}"]}),n})()}];let J=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(I)],p.Bz]}),n})(),S=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,J]]}),n})()}}]);