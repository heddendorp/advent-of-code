"use strict";(self.webpackChunkAdventOfCode=self.webpackChunkAdventOfCode||[]).push([[367],{367:(k,p,r)=>{r.r(p),r.d(p,{Day8Module:()=>Y});var u=r(6019),v=r(4881),y=r(4499),Z=r(273),b=r(3067),C=r(7908);class I extends C.w0{constructor(e,n){super()}schedule(e,n=0){return this}}const h={setInterval(...i){const{delegate:e}=h;return((null==e?void 0:e.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:e}=h;return((null==e?void 0:e.clearInterval)||clearInterval)(i)},delegate:void 0};var D=r(3980);const m={now:()=>(m.delegate||Date).now(),delegate:void 0};class d{constructor(e,n=d.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,s){return new this.schedulerActionCtor(this,e).schedule(s,n)}}d.now=m.now;const A=new class extends d{constructor(e,n=d.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let s;this._active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,s){for(;e=n.shift();)e.unsubscribe();throw s}}}(class extends I{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const s=this.id,o=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(o,s,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,s=0){return h.setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,n,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return n;h.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(e,n);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let o,s=!1;try{this.work(e)}catch(c){s=!0,o=c||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:s}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,D.P)(s,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),T=A;var M=r(8305),U=r(7398);var w=r(9947),x=r(8889),N=r(9985),Q=r(4623),$=r(6921),B=r(7613),E=r(7384);const R=JSON.parse('{"i":"nop +0\\nacc +1\\njmp +4\\nacc +3\\njmp -3\\nacc -99\\nacc +1\\njmp -4\\nacc +6"}');var t=r(3556);const X=function(i){return{hidden:i}};function z(i,e){if(1&i&&(t.ynx(0),t.TgZ(1,"div"),t._UZ(2,"img",11),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.BQk()),2&i){const n=e.$implicit,s=e.index,o=t.oxw().ngIf;t.xp6(2),t.Q6J("ngClass",t.VKq(3,X,s!=o.next)),t.xp6(2),t.Oqu(n[0]),t.xp6(2),t.Oqu(n[1])}}function L(i,e){if(1&i&&(t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.YNc(2,z,7,5,"ng-container",9),t.qZA(),t.TgZ(3,"div",10),t.TgZ(4,"span"),t._uU(5),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"async"),t.qZA(),t.qZA(),t.qZA()),2&i){const n=e.ngIf,s=t.oxw();t.xp6(2),t.Q6J("ngForOf",s.instructions),t.xp6(3),t.AsE("Next instruction: ",n.next," \xa0 Accumulator: ",n.acc,""),t.xp6(3),t.hij("Completed instructions: ",t.lcZ(9,4,s.executed),"")}}const H=[{path:"",component:(()=>{class i{constructor(){this.state$=new y.X({acc:0,next:0}),this.executed=new y.X([]),this.exampleInput=R.i,this.start=new Z.x,this.instructions=this.exampleInput.split("\n").map(n=>{var s,o;return null!==(o=null===(s=null==n?void 0:n.match(/(\w\w\w) ([+-]\d+)/i))||void 0===s?void 0:s.splice(1))&&void 0!==o?o:[]}).map(([n,s])=>[n,parseInt(s,10)]),this.start.pipe((0,b.w)(()=>function(i=0,e=A){return i<0&&(i=0),function(i=0,e,n=T){let s=-1;return null!=e&&((0,U.K)(e)?n=e:s=e),new M.y(o=>{let c=function(i){return i instanceof Date&&!isNaN(i)}(i)?+i-n.now():i;c<0&&(c=0);let l=0;return n.schedule(function(){o.closed||(o.next(l++),0<=s?this.schedule(void 0,s):o.complete())},c)})}(i,i,e)}(1e3))).pipe(function(...i){const e=(0,B.jO)(i);return(0,w.e)((n,s)=>{const o=i.length,c=new Array(o);let l=i.map(()=>!1),g=!1;for(let a=0;a<o;a++)(0,N.Xf)(i[a]).subscribe(new x.Q(s,f=>{c[a]=f,!g&&!l[a]&&(l[a]=!0,(g=l.every(Q.y))&&(l=null))},$.Z));n.subscribe(new x.Q(s,a=>{if(g){const f=[a,...c];s.next(e?e(...f):f)}}))})}(this.state$,this.executed),(0,E.b)(console.log),function(i,e=!1){return(0,w.e)((n,s)=>{let o=0;n.subscribe(new x.Q(s,c=>{const l=i(c,o++);(l||e)&&s.next(c),!l&&s.complete()}))})}(([n,s,o])=>!o.includes(s.next))).subscribe(([n,s,o])=>{this.executed.next([...o,s.next]);const[c,l]=this.instructions[s.next];switch(c){case"nop":this.state$.next(Object.assign(Object.assign({},s),{next:s.next+1}));break;case"jmp":this.state$.next(Object.assign(Object.assign({},s),{next:s.next+l}));break;case"acc":this.state$.next(Object.assign(Object.assign({},s),{acc:s.acc+l,next:s.next+1}))}})}startExecution(){this.start.next(!0)}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-day8"]],decls:12,vars:3,consts:[[1,"text-6xl","font-black","font-mono","text-center","my-6","text-transparent","bg-clip-text","bg-gradient-to-tr","from-green-400","to-green-500"],[1,"rounded-2xl","p-4","space-y-2","bg-gradient-to-tr","from-yellow-700","to-yellow-900"],[1,"mb-8"],[1,"font-bold","text-5xl","text-yellow-200","mb-4"],[1,"text-gray-100","font-bold","text-5xl"],["class","flex flex-row",4,"ngIf"],[1,"rounded","border","border-solid","border-white","text-white","text-2xl","px-2","cursor-pointer","hover:bg-white","hover:bg-opacity-10",3,"click"],[1,"flex","flex-row"],[1,"execution-grid","font-mono","text-white","text-2xl"],[4,"ngFor","ngForOf"],[1,"font-mono","text-white","text-2xl"],["alt","\u27a1","src","./assets/images/arrow.svg",1,"h-8",3,"ngClass"]],template:function(n,s){1&n&&(t.TgZ(0,"h1",0),t._uU(1," --- Day 8: Handheld Halting ---\n"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"h2",3),t._uU(5,"Part 1"),t.qZA(),t.TgZ(6,"h3",4),t._uU(7,"Code execution"),t.qZA(),t.qZA(),t.YNc(8,L,10,6,"div",5),t.ALo(9,"async"),t.TgZ(10,"button",6),t.NdJ("click",function(){return s.startExecution()}),t._uU(11," Start execution "),t.qZA(),t.qZA()),2&n&&(t.xp6(8),t.Q6J("ngIf",t.lcZ(9,1,s.state$)))},directives:[u.O5,u.sg,u.mk],pipes:[u.Ov],styles:["[_nghost-%COMP%]{display:block;padding:1rem}.execution-grid[_ngcontent-%COMP%]{display:grid;grid-gap:.5rem;gap:.5rem;grid-template-columns:repeat(3,max-content)}"]}),i})()}];let K=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[v.Bz.forChild(H)],v.Bz]}),i})(),Y=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.ez,K]]}),i})()}}]);