"use strict";(self.webpackChunkAdventOfCode=self.webpackChunkAdventOfCode||[]).push([[227],{1429:(Q,g,e)=>{e.r(g),e.d(g,{Day8Module:()=>u});var r=e(6895),f=e(5846),v=e(1135),Z=e(7579),A=e(3900),w=e(7825),C=e(4482),y=e(5403),b=e(8421),O=e(4671),T=e(5032),j=e(3269),F=e(8505),I=e(2529);const J=JSON.parse('{"i":"nop +0\\nacc +1\\njmp +4\\nacc +3\\njmp -3\\nacc -99\\nacc +1\\njmp -4\\nacc +6"}');var t=e(8274);const S=function(i){return{hidden:i}};function $(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div"),t._UZ(2,"img",11),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.BQk()),2&i){const n=o.$implicit,s=o.index,a=t.oxw().ngIf;t.xp6(2),t.Q6J("ngClass",t.VKq(3,S,s!=a.next)),t.xp6(2),t.Oqu(n[0]),t.xp6(2),t.Oqu(n[1])}}function B(i,o){if(1&i&&(t.TgZ(0,"div",7)(1,"div",8),t.YNc(2,$,7,5,"ng-container",9),t.qZA(),t.TgZ(3,"div",10)(4,"span"),t._uU(5),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"async"),t.qZA()()()),2&i){const n=o.ngIf,s=t.oxw();t.xp6(2),t.Q6J("ngForOf",s.instructions),t.xp6(3),t.AsE("Next instruction: ",n.next," \xa0 Accumulator: ",n.acc,""),t.xp6(3),t.hij("Completed instructions: ",t.lcZ(9,4,s.executed),"")}}class x{constructor(){this.state$=new v.X({acc:0,next:0}),this.executed=new v.X([]),this.exampleInput=J.i,this.start=new Z.x,this.instructions=this.exampleInput.split("\n").map(o=>o?.match(/(\w\w\w) ([+-]\d+)/i)?.splice(1)??[]).map(([o,n])=>[o,parseInt(n,10)]),this.start.pipe((0,A.w)(()=>(0,w.F)(1e3))).pipe(function U(...i){const o=(0,j.jO)(i);return(0,C.e)((n,s)=>{const a=i.length,l=new Array(a);let p=i.map(()=>!1),m=!1;for(let c=0;c<a;c++)(0,b.Xf)(i[c]).subscribe(new y.Q(s,h=>{l[c]=h,!m&&!p[c]&&(p[c]=!0,(m=p.every(O.y))&&(p=null))},T.Z));n.subscribe(new y.Q(s,c=>{if(m){const h=[c,...l];s.next(o?o(...h):h)}}))})}(this.state$,this.executed),(0,F.b)(console.log),(0,I.o)(([o,n,s])=>!s.includes(n.next))).subscribe(([o,n,s])=>{this.executed.next([...s,n.next]);const[a,l]=this.instructions[n.next];switch(a){case"nop":this.state$.next({...n,next:n.next+1});break;case"jmp":this.state$.next({...n,next:n.next+l});break;case"acc":this.state$.next({...n,acc:n.acc+l,next:n.next+1})}})}startExecution(){this.start.next(!0)}static#t=this.\u0275fac=function(n){return new(n||x)};static#n=this.\u0275cmp=t.Xpm({type:x,selectors:[["app-day8"]],decls:12,vars:3,consts:[[1,"text-6xl","font-black","font-mono","text-center","my-6","text-transparent","bg-clip-text","bg-gradient-to-tr","from-green-400","to-green-500"],[1,"rounded-2xl","p-4","space-y-2","bg-gradient-to-tr","from-yellow-700","to-yellow-900"],[1,"mb-8"],[1,"font-bold","text-5xl","text-yellow-200","mb-4"],[1,"text-gray-100","font-bold","text-5xl"],["class","flex flex-row",4,"ngIf"],[1,"rounded","border","border-solid","border-white","text-white","text-2xl","px-2","cursor-pointer","hover:bg-white","hover:bg-opacity-10",3,"click"],[1,"flex","flex-row"],[1,"execution-grid","font-mono","text-white","text-2xl"],[4,"ngFor","ngForOf"],[1,"font-mono","text-white","text-2xl"],["alt","\u27a1","src","./assets/images/arrow.svg",1,"h-8",3,"ngClass"]],template:function(n,s){1&n&&(t.TgZ(0,"h1",0),t._uU(1," --- Day 8: Handheld Halting ---\n"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"h2",3),t._uU(5,"Part 1"),t.qZA(),t.TgZ(6,"h3",4),t._uU(7,"Code execution"),t.qZA()(),t.YNc(8,B,10,6,"div",5),t.ALo(9,"async"),t.TgZ(10,"button",6),t.NdJ("click",function(){return s.startExecution()}),t._uU(11," Start execution "),t.qZA()()),2&n&&(t.xp6(8),t.Q6J("ngIf",t.lcZ(9,1,s.state$)))},dependencies:[r.mk,r.sg,r.O5,r.Ov],styles:["[_nghost-%COMP%]{display:block;padding:1rem}.execution-grid[_ngcontent-%COMP%]{display:grid;gap:.5rem;grid-template-columns:repeat(3,max-content)}"]})}const D=[{path:"",component:x}];class d{static#t=this.\u0275fac=function(n){return new(n||d)};static#n=this.\u0275mod=t.oAB({type:d});static#e=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(D),f.Bz]})}class u{static#t=this.\u0275fac=function(n){return new(n||u)};static#n=this.\u0275mod=t.oAB({type:u});static#e=this.\u0275inj=t.cJS({imports:[r.ez,d]})}}}]);